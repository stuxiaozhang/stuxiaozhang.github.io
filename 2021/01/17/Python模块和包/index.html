<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="&#34;auto&#34;"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="https://gitee.com/stuxiaozhang/blogimage/raw/master/img/mytheme/favicon.png"><link rel="icon" href="https://gitee.com/stuxiaozhang/blogimage/raw/master/img/mytheme/favicon.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="description" content="这篇文章整理了Python的模块和包的相关操作。
"><meta name="author" content="小张同学"><meta name="keywords" content=""><title>Python模块和包 - 小张同学的博客</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css"><link rel="stylesheet" href="/lib/hint/hint.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.7.2/styles/github-gist.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css"><link rel="stylesheet" href="/css/main.css"><script id="fluid-configs">var Fluid=window.Fluid||{},CONFIG={hostname:"stuxiaozhang.github.io",root:"/",version:"1.8.11",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"right",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},copy_btn:!0,image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:4},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:"81O1jSOqY3veRxOg71BDYfri-gzGzoHsz",app_key:"CgnvRL262D07ied40NiXm2VL",server_url:null}},search_path:"/local-search.xml"}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 5.3.0"></head><body><header style="height:50vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/">&nbsp;<strong>xiaozhang's space</strong>&nbsp;</a> <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> 首页</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> 归档</a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> 分类</a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> 标签</a></li><li class="nav-item"><a class="nav-link" href="/schedule/"><i class="iconfont icon-cliplist"></i> 动态</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> 关于</a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div class="banner" id="banner" parallax="true" style="background:url(https://gitee.com/stuxiaozhang/blogimage/raw/master/img/mytheme/post.png) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="page-header text-center fade-in-up"><span class="h2" id="subtitle" title="Python模块和包"></span><div class="mt-3"><span class="post-meta mr-2"><i class="iconfont icon-author" aria-hidden="true"></i> 小张同学 </span><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2021-01-17 10:51" pubdate>2021年1月17日</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 2.1k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 20 分钟 </span><span id="leancloud-page-views-container" class="post-meta" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="leancloud-page-views"></span> 次</span></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="d-none d-lg-block col-lg-1"></div><div class="col-lg-9 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div class="py-5" id="board"><article class="post-content mx-auto"><h1 style="display:none">Python模块和包</h1><p class="note note-info">本文最后更新于：2021年2月6日</p><div class="markdown-body"><p>这篇文章整理了Python的模块和包的相关操作。</p><p><em><a id="more"></a></em></p><hr><center><img src="https://gitee.com/stuxiaozhang/blogimage/raw/master/img/编程语言/Python/python模块和包.png" srcset="/img/loading.gif" lazyload alt="pokeman-parameters" style="width:80%"></center><h1 id="python中的包">1. Python中的包</h1><ul><li><p>包就是文件夹，包中还可以有包，也就是子文件夹。</p></li><li><p>包里要有 <code>__init__.py</code> 文件才会被认为是python包。(相当于身份证；<code>__init__.py</code>文件里可以什么都没有)</p></li></ul><p>如何创建一个包？</p><ul><li>要有一个主题，明确功能，方便使用</li><li>层次分明，调用清晰</li></ul><h2 id="包的导入-import">1.1 包的导入 <code>import</code></h2><p>功能：<code>import package</code> 将python中的某个包(或模块)，导入到当前的py文件中</p><ul><li>package：被导入的包的名字。只会拿到对应包下 <code>__init__</code> 中的功能或当前模块下的功能。</li></ul><h1 id="python中的模块">2. Python中的模块</h1><p>一个python文件就是模块。</p><h2 id="模块的导入-from...import...">2.1 模块的导入 <code>from...import...</code></h2><p>功能：<code>from package import module</code> 通过从某个包中找到对应的模块。</p><ul><li><p><code>package</code> ：来源的包名</p></li><li><p><code>module</code> ：包中的目标模块</p></li></ul><p>举个栗子：</p><blockquote><p>----animal</p><p>|----dog</p><p>|----__ init__.py</p><p>​ |----action.py</p><p>|----cat</p><p>​ |----__ init__.py</p><p>​ |----action.py</p><p>|----t2.py</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> animal<br><span class="hljs-keyword">from</span> animal.dog <span class="hljs-keyword">import</span> action<br>action.run()  <span class="hljs-comment"># dog run</span><br><br><span class="hljs-keyword">from</span> animal.cat <span class="hljs-keyword">import</span> action<br>action.run()  <span class="hljs-comment"># cat run</span><br></code></pre></td></tr></table></figure><p><strong>我们发现两个包里有同名的函数，那怎么分别调用呢？</strong></p><p>答：<code>... as name</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> animal<br><span class="hljs-keyword">from</span> animal.dog <span class="hljs-keyword">import</span> action <span class="hljs-keyword">as</span> dog_action<br><span class="hljs-keyword">from</span> animal.cat <span class="hljs-keyword">import</span> action <span class="hljs-keyword">as</span> cat_action<br><br>dog_action.run()  <span class="hljs-comment"># dog run</span><br>cat_action.run()  <span class="hljs-comment"># cat run</span><br><br></code></pre></td></tr></table></figure><p><strong>如果是导入模块中的函数呢？</strong></p><p>在 <code>animal.__init__()</code> 文件里面写</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> .dog.action <span class="hljs-keyword">import</span> run <span class="hljs-keyword">as</span> dog_run<br><span class="hljs-keyword">from</span> .cat.action <span class="hljs-keyword">import</span> run <span class="hljs-keyword">as</span> cat_run<br></code></pre></td></tr></table></figure><blockquote><p><code>.</code> 代表当前目录。</p></blockquote><p>然后在同级别下的 <code>t2.py</code> 里写：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> animal <span class="hljs-keyword">import</span> dog_run, cat_run<br><br>dog_run_result = dog_run()<br>cat_run_result = cat_run()<br> <br>print(dog_run_result)  <span class="hljs-comment"># dog run</span><br>print(cat_run_result)  <span class="hljs-comment"># cat run</span><br></code></pre></td></tr></table></figure><h1 id="python的-datatime-与-time">3. Python的 <code>datatime</code> 与 <code>time</code></h1><h2 id="datatime">3.1 <code>datatime</code></h2><p><code>datatime</code> ：日期与时间的结合体 -date and time</p><h3 id="获取当前时间">1. 获取当前时间</h3><p>返回当前年月日时分秒的datetime对象 <code>from datetime import datetime</code></p><h3 id="获取时间间隔">2. 获取时间间隔</h3><p>返回时间间隔的datetime对象 <code>from datetime import datetime</code> &amp; <code>from datetime import timedelta</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime<br><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> timedelta<br><br>now = datetime.now()<br>print(now, <span class="hljs-built_in">type</span>(now))  <span class="hljs-comment"># 2021-01-17 13:28:58.455511 &lt;class &#x27;datetime.datetime&#x27;&gt;</span><br><br>three_days = timedelta(days=<span class="hljs-number">3</span>)  <span class="hljs-comment"># 定义一个3天的时间间隔</span><br>after_three_days = now + three_days<br>print(after_three_days)  <span class="hljs-comment"># 2021-01-20 13:28:58.455511</span><br><br>before_three_days = now - three_days<br>print(before_three_days)  <span class="hljs-comment"># 2021-01-14 13:28:58.455511</span><br><br>one_hour = timedelta(hours=<span class="hljs-number">1</span>)  <span class="hljs-comment"># 定义1个小时的时间间隔</span><br>before_one_hour = now - one_hour<br>print(before_one_hour)  <span class="hljs-comment"># 2021-01-17 12:28:58.455511</span><br></code></pre></td></tr></table></figure><h3 id="将时间对象转成时间字符串-strftime">3. 将时间对象转成时间字符串 <code>strftime</code></h3><p>获取时间对象：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime<br>now = datetime.now()<br></code></pre></td></tr></table></figure><p>时间转字符串：</p><p><code>data_str = now.strftime(format)</code></p><p>栗子：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime<br><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> timedelta<br><br>now = datetime.now()<br>now_str = now.strftime(<span class="hljs-string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>)  <span class="hljs-comment"># 注意大小写</span><br>print(now_str, <span class="hljs-built_in">type</span>(now_str))  <span class="hljs-comment"># 2021-01-17 16:05:05 &lt;class &#x27;str&#x27;&gt;</span><br><br>three_days = timedelta(days=<span class="hljs-number">3</span>)  <span class="hljs-comment"># 定义一个3天的时间间隔</span><br>after_three_days = now + three_days<br>after_three_days_str = after_three_days.strftime(<span class="hljs-string">&#x27;%Y/%m/%d %H:%M:%S&#x27;</span>)<br>print(after_three_days_str, <span class="hljs-built_in">type</span>(after_three_days_str))  <span class="hljs-comment"># 2021/01/20 16:05:05 &lt;class &#x27;str&#x27;&gt;</span><br><br>before_three_days = now - three_days<br>before_three_days_str = before_three_days.strftime(<span class="hljs-string">&#x27;%Y%m%d&#x27;</span>)<br>print(before_three_days_str, <span class="hljs-built_in">type</span>(before_three_days_str))  <span class="hljs-comment"># 20210114 &lt;class &#x27;str&#x27;&gt;</span><br><br>one_hour = timedelta(hours=<span class="hljs-number">1</span>)  <span class="hljs-comment"># 定义1个小时的时间间隔</span><br>before_one_hour = now - one_hour<br>before_one_hour_str = before_three_days.strftime(<span class="hljs-string">&#x27;%H:%M:%S&#x27;</span>)<br>print(before_one_hour_str, <span class="hljs-built_in">type</span>(before_one_hour_str))  <span class="hljs-comment"># 16:08:14 &lt;class &#x27;str&#x27;&gt;</span><br></code></pre></td></tr></table></figure><h3 id="将字符串转成时间类型-strptime">4. 将字符串转成时间类型 <code>strptime</code></h3><p>获取时间模块：<code>from datetime import datetime</code></p><p>时间字符串转时间类型：<code>datetime.strptime(tt, format)</code></p><ul><li><code>tt</code> ：符合时间格式的字符串</li><li><code>format</code> ：tt时间字符串匹配规则</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime<br><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> timedelta<br><br>now = datetime.now()<br>print(now, <span class="hljs-built_in">type</span>(now))<br>now_str = now.strftime(<span class="hljs-string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>)  <span class="hljs-comment"># 注意大小写</span><br>print(now_str, <span class="hljs-built_in">type</span>(now_str))  <span class="hljs-comment"># 2021-01-17 16:05:05 &lt;class &#x27;str&#x27;&gt;</span><br>now_obj = datetime.strptime(now_str, <span class="hljs-string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>)<br>print(now_obj, <span class="hljs-built_in">type</span>(now_obj), <span class="hljs-string">&#x27;---&#x27;</span>)  <span class="hljs-comment"># 2021-01-17 16:25:33 &lt;class &#x27;datetime.datetime&#x27;&gt;</span><br><br>three_days = timedelta(days=<span class="hljs-number">3</span>)  <span class="hljs-comment"># 定义一个3天的时间间隔</span><br>after_three_days = now + three_days<br>after_three_days_str = after_three_days.strftime(<span class="hljs-string">&#x27;%Y/%m/%d %H:%M:%S&#x27;</span>)<br>print(after_three_days_str, <span class="hljs-built_in">type</span>(after_three_days_str))  <span class="hljs-comment"># 2021/01/20 16:05:05 &lt;class &#x27;str&#x27;&gt;</span><br>after_three_days_obj = datetime.strptime(after_three_days_str, <span class="hljs-string">&#x27;%Y/%m/%d %H:%M:%S&#x27;</span>)  <span class="hljs-comment"># 必须与after_three_days_str的年月日时分秒一一对应</span><br>print(after_three_days_obj, <span class="hljs-built_in">type</span>(after_three_days_obj), <span class="hljs-string">&#x27;---&#x27;</span>)  <span class="hljs-comment"># 2021-01-20 16:29:38 &lt;class &#x27;datetime.datetime&#x27;&gt;</span><br><br>before_three_days = now - three_days<br>print(before_three_days)<br>before_three_days_str = before_three_days.strftime(<span class="hljs-string">&#x27;%Y%m%d&#x27;</span>)<br>print(before_three_days_str, <span class="hljs-built_in">type</span>(before_three_days_str))  <span class="hljs-comment"># 20210114 &lt;class &#x27;str&#x27;&gt;</span><br>before_three_days_obj = datetime.strptime(before_three_days_str, <span class="hljs-string">&#x27;%Y%m%d&#x27;</span>)<br>print(before_three_days_obj, <span class="hljs-built_in">type</span>(before_three_days_obj), <span class="hljs-string">&#x27;---&#x27;</span>)  <span class="hljs-comment"># 2021-01-14 00:00:00 &lt;class &#x27;datetime.datetime&#x27;&gt;</span><br></code></pre></td></tr></table></figure><p>注：记一些常用的时间格式字符</p><table><thead><tr class="header"><th>字符</th><th>介绍</th></tr></thead><tbody><tr class="odd"><td>%Y</td><td>完整的年份，如2021</td></tr><tr class="even"><td>%m</td><td>月份，1-12</td></tr><tr class="odd"><td>%d</td><td>月份中的一天，1-31</td></tr><tr class="even"><td>%H</td><td>一天中的第几个小时(24h)，00-23</td></tr><tr class="odd"><td>%I</td><td>一天中的第几个小时(12h)，01-12</td></tr><tr class="even"><td>%M</td><td>当前的第几分(00-59)</td></tr><tr class="odd"><td>%S</td><td>当前分的第几秒(00-61)(多出来的两秒是闰年的)</td></tr><tr class="even"><td>%f</td><td>当前秒的第几毫秒</td></tr><tr class="odd"><td>%a</td><td>简化的星期，如星期三 Wed</td></tr><tr class="even"><td>%A</td><td>完整的星期，如星期三 Wedensday</td></tr><tr class="odd"><td>%b</td><td>简化的月份，如二月 Feb</td></tr><tr class="even"><td>%B</td><td>完整的月份，如二月 February</td></tr><tr class="odd"><td>%c</td><td>本地日期和时间，如 Sun Jan 17 19:04:01 2021</td></tr></tbody></table><h2 id="time">3.2 <code>time</code></h2><p>时间戳 <code>timestamp</code>：1070年1月1日0时0分0秒至今的总毫秒(秒)数。是一个 <code>float</code> 类型</p><h3 id="生成时间戳函数-time">1. 生成时间戳函数 <code>time</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br>time.time()  <span class="hljs-comment"># 返回秒级别的浮点类型</span><br></code></pre></td></tr></table></figure><p><strong><code>datetime</code> 包生成时间戳与时间戳转时间类型的方法</strong>：</p><p>1.<code>datetime</code> 时间对象也可以生成时间戳，只不过是<u>先生成时间戳函数</u>，再赋值</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br>now = datetime.datetime.now()<br>now_tomestamp = datetime.datetime.timestamp(now)<br></code></pre></td></tr></table></figure><blockquote><ul><li>now：datetime时间对象</li></ul></blockquote><p>2.<code>datetime</code> 时间戳也可以转回时间对象</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> datetime<br>datetime.datetime.fromtimestamp(timestamp)<br></code></pre></td></tr></table></figure><blockquote><ul><li>timestamp：时间戳</li></ul><p>这个函数会返回一个时间戳对象</p></blockquote><p>举个栗子</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> datetime<br><br>datetime_now = datetime.datetime.now()<br>datetime_timestamp = datetime.datetime.timestamp(datetime_now)<br>print(<span class="hljs-string">&#x27;datetime生成的时间戳 %s&#x27;</span> % datetime_timestamp)<br><br>datetime_obj = datetime.datetime.fromtimestamp(datetime_timestamp)  <span class="hljs-comment"># 时间戳转为时间对象</span><br>print(datetime_obj)<br><br>--------------------------------------<br>datetime生成的时间戳 <span class="hljs-number">1610885937.031843</span><br><span class="hljs-number">2021</span>-01-<span class="hljs-number">17</span> <span class="hljs-number">20</span>:<span class="hljs-number">18</span>:<span class="hljs-number">57.031843</span><br></code></pre></td></tr></table></figure><h3 id="获取本地时间函数-localtime">2. 获取本地时间函数 <code>localtime</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br>time.localtime(timestamp)  <span class="hljs-comment"># 时间戳参数可以不传</span><br></code></pre></td></tr></table></figure><h3 id="暂停函数-sleep">3. 暂停函数 <code>sleep</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br>time.sleep(second)  <span class="hljs-comment"># second: 希望被暂停的秒数</span><br></code></pre></td></tr></table></figure><h3 id="time-中的-strftime-时间转字符串">4. <code>time</code> 中的 <code>strftime</code> (时间转字符串)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br>time.strftime(<span class="hljs-built_in">format</span>, t)  <br></code></pre></td></tr></table></figure><blockquote><p>参数：</p><ul><li><code>format</code>：格式化规范</li><li><code>t</code>：<code>time.localtime</code> 对应的时间类型</li></ul><p>与<code>datetime</code> 中的 <code>strftime()</code> 完全一致，只不过这里对应的应该是 <code>time</code> 对象</p></blockquote><h3 id="time-中的-strptime-字符串转时间">5. <code>time</code> 中的 <code>strptime</code> (字符串转时间)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br>time.strptime(time_str, <span class="hljs-built_in">format</span>)  <br></code></pre></td></tr></table></figure><blockquote><p>参数：</p><ul><li><code>time_str</code> ：符合<u>时间格式标准</u>的字符串</li><li><code>format</code>：确保与 <code>time_str</code> 完全一致的格式化标准</li></ul><p>与<code>datetime</code> 中的 <code>strftime()</code> 完全一致，只不过这里对应的应该是 <code>time</code> 对象</p></blockquote><p>举个栗子</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><br>now = time.time()<br>print(now, <span class="hljs-built_in">type</span>(now))  <span class="hljs-comment"># 1610884104.6186714 &lt;class &#x27;float&#x27;&gt;</span><br><br>time_obj = time.localtime(now)<br>print(time_obj, <span class="hljs-built_in">type</span>(time_obj))<br><span class="hljs-comment"># time.struct_time(tm_year=2021, tm_mon=1, tm_mday=17, tm_hour=20, tm_min=22, tm_sec=25, tm_wday=6, tm_yday=17, tm_isdst=0) &lt;class &#x27;time.struct_time&#x27;&gt;</span><br><br><span class="hljs-comment"># time.sleep(3)</span><br>current_time_obj = time.localtime()<br>print(current_time_obj)<br><span class="hljs-comment"># time.struct_time(tm_year=2021, tm_mon=1, tm_mday=17, tm_hour=20, tm_min=22, tm_sec=28, tm_wday=6, tm_yday=17, tm_isdst=0)</span><br><br>before = now - <span class="hljs-number">1e5</span>  <span class="hljs-comment"># 减去十万秒</span><br>before_time_obj = time.localtime(before)<br>print(before_time_obj)<br><span class="hljs-comment"># time.struct_time(tm_year=2021, tm_mon=1, tm_mday=16, tm_hour=16, tm_min=35, tm_sec=45, tm_wday=5, tm_yday=16, tm_isdst=0)</span><br><br>print(time.time() * <span class="hljs-number">1000</span> )  <span class="hljs-comment"># 毫秒级别</span><br>print(time.time())<br></code></pre></td></tr></table></figure><h1 id="python内置库-os-模块">4. Python内置库 <code>os</code> 模块</h1><h2 id="os文件与目录函数">4.1 os文件与目录函数</h2><p>常见的os文件与目录函数介绍</p><table><thead><tr class="header"><th>函数名</th><th>参数</th><th>介绍</th><th>举例</th><th>返回值</th></tr></thead><tbody><tr class="odd"><td><code>getcwd()</code></td><td>无</td><td>返回当前的路径</td><td><code>os.getcwd()</code></td><td>字符串</td></tr><tr class="even"><td><code>listdir()</code></td><td>path</td><td>返回制定路径下所有的文件或文件夹</td><td><code>os.listdir('c://Windows')</code></td><td>返回一个列表</td></tr><tr class="odd"><td><code>makedirs()</code></td><td>path</td><td>创建多级文件夹</td><td><code>os.makedirs('d://code/py')</code></td><td>无</td></tr><tr class="even"><td><code>removedirs()</code></td><td>path（可以写相对路径）</td><td>删除多级文件夹</td><td><code>os.removedirs('d://code/py')</code></td><td>无</td></tr><tr class="odd"><td><code>rename()</code></td><td>Oldname, newname</td><td>给文件或文件夹改名</td><td><code>os.rename('d://code', 'd://co')</code></td><td>无</td></tr><tr class="even"><td><code>rmdirs()</code></td><td>path</td><td>只能删除空文件夹</td><td><code>os.makedirs('d://code')</code></td><td>无</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">current_path = os.getcwd()<br>print(current_path)  <span class="hljs-comment"># D:\mycode\myPythonTest</span><br><br><br>new_path = <span class="hljs-string">&#x27;%s/test1&#x27;</span> % current_path<br><span class="hljs-comment"># os.makedirs(new_path)</span><br><br>data = os.listdir(current_path)<br>print(data)  <span class="hljs-comment"># [&#x27;.idea&#x27;, &#x27;animal&#x27;, &#x27;Currency_Exchange.py&#x27;, &#x27;t1.py&#x27;, &#x27;t2.py&#x27;, &#x27;test1&#x27;, &#x27;time.py&#x27;, &#x27;__pycache__&#x27;]</span><br><br>new_path2 = <span class="hljs-string">&#x27;%s/test2/abc&#x27;</span> % current_path<br>os.makedirs(new_path2)<br></code></pre></td></tr></table></figure><h2 id="os.path-模块">4.2 <code>os.path</code> 模块</h2><p><code>os.path</code> 模块常用的方法。</p><table><thead><tr class="header"><th>函数名</th><th>参数</th><th>介绍</th><th>举例</th><th>返回值</th></tr></thead><tbody><tr class="odd"><td><code>exists</code></td><td>Path</td><td>文件或路径是否存在</td><td>os.path.exists(‘d://’)</td><td>bool类型</td></tr><tr class="even"><td><code>isdir</code></td><td>Path</td><td>是否是路径</td><td>os.path.isdir(‘d://’)</td><td>bool类型</td></tr><tr class="odd"><td><code>isabs</code></td><td>Path</td><td>是否是绝对路径</td><td>os.path.isabs(‘test’)</td><td>bool类型</td></tr><tr class="even"><td><code>isfile</code></td><td>Path</td><td>是否是文件</td><td>os.path.isfile(‘d://a.py’)</td><td>bool类型</td></tr><tr class="odd"><td><code>join</code></td><td>Path, path*</td><td>路径字符串合并</td><td>os.path.join(‘d://’, ‘test’)</td><td>字符串</td></tr><tr class="even"><td><code>split</code></td><td>Path</td><td>以<strong>最后一层路径为基准切割</strong></td><td>os.path.split(‘d://test’)</td><td>列表</td></tr></tbody></table><h1 id="python的-sys-模块">5. Python的 <code>sys</code> 模块</h1><p><code>sys</code> 模块中的常用方法</p><table><thead><tr class="header"><th>函数名</th><th>参数</th><th>介绍</th><th>举例</th><th>返回值</th></tr></thead><tbody><tr class="odd"><td><code>modules</code></td><td>无</td><td>py启动时加载的模块</td><td>sys.modules</td><td>列表</td></tr><tr class="even"><td><code>path</code></td><td>无</td><td>返回当前py的环境路径</td><td>sys.path</td><td>列表</td></tr><tr class="odd"><td><code>exit</code></td><td>arg</td><td>退出程序</td><td>sys.exit(0)</td><td>无</td></tr><tr class="even"><td><code>getdefaultencoding</code></td><td>无</td><td>获取系统编码</td><td>sys.getdefaultencoding()</td><td>字符串</td></tr><tr class="odd"><td><code>platform</code></td><td>无</td><td>获取当前系统平台</td><td>sys.platform</td><td>字符串</td></tr><tr class="even"><td><code>version</code></td><td>无</td><td>获取python版本</td><td>sys.version</td><td>字符串</td></tr><tr class="odd"><td><code>argv</code></td><td>*arg</td><td>程序外部获取参数</td><td>sys.argv</td><td>列表</td></tr></tbody></table></div><hr><div><div class="post-metas mb-3"><div class="post-meta mr-3"><i class="iconfont icon-category"></i> <a class="hover-with-bg" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">编程语言</a> <a class="hover-with-bg" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/">Python</a></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a class="hover-with-bg" href="/tags/Python/">Python</a></div></div><p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处来源：<a href="https://stuxiaozhang.github.io/">小张的宇宙空间站</a></p><div class="post-prevnext"><article class="post-prev col-6"><a href="/2021/01/18/Python%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">Python文件操作</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/2021/01/12/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/"><span class="hidden-mobile">快速排序与快速选择算法</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article class="comments" id="comments" lazyload><div id="valine"></div><script type="text/javascript">Fluid.utils.loadComments("#valine",function(){Fluid.utils.createScript("https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js",function(){var e=Object.assign({appId:"81O1jSOqY3veRxOg71BDYfri-gzGzoHsz",appKey:"CgnvRL262D07ied40NiXm2VL",placeholder:"快来评论鸭~",path:"window.location.pathname",avatar:"retro",meta:["nick","mail","link"],pageSize:10,lang:"zh-CN",highlight:!0,recordIP:!0,serverURLs:"",emojiCDN:"https://cdn.bootcdn.net/ajax/libs/emojione/4.5.0/lib/js/emojione.min.js",emojiMaps:null,enableQQ:!0,requiredFields:["nick"]},{el:"#valine",path:window.location.pathname});new Valine(e)})})</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p><div class="toc-body" id="toc-body"></div></div></div></div></div><a id="scroll-top-button" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer class="text-center mt-5 py-3"><div class="footer-content"><a href="https://stuxiaozhang.github.io" target="_blank" rel="nofollow noopener"><span>小张同学的宇宙空间站</span></a> 已经运转了<span id="timeDate">载入天数...</span><script src="/js/duration.js"></script></div><div class="statistics"><span id="leancloud-site-pv-container" style="display:none">总访问量 <span id="leancloud-site-pv"></span> 次 </span><span id="leancloud-site-uv-container" style="display:none">总访客数 <span id="leancloud-site-uv"></span> 人</span></div></footer><script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",function(){NProgress.done()})</script><script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/img-lazyload.js"></script><script src="https://cdn.jsdelivr.net/npm/tocbot@4.12.3/dist/tocbot.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.1/anchor.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js"></script><script src="/js/local-search.js"></script><script defer src="/js/leancloud.js"></script><script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12/lib/typed.min.js"></script><script>!function(t){(0,Fluid.plugins.typing)(t.getElementById("subtitle").title)}((window,document))</script><script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]]},options:{renderActions:{findScript:[10,a=>{document.querySelectorAll('script[type^="math/tex"]').forEach(e=>{var t=!!e.type.match(/; *mode=display/);const n=new a.options.MathItem(e.textContent,a.inputJax[0],t);t=document.createTextNode("");e.parentNode.replaceChild(t,e),n.start={node:t,delim:"",n:0},n.end={node:t,delim:"",n:0},a.math.push(n)})},"",!1],insertedScript:[200,()=>{document.querySelectorAll("mjx-container").forEach(e=>{let t=e.parentNode;"li"===t.nodeName.toLowerCase()&&t.parentNode.classList.add("has-jax")})},"",!1]}}}</script><script async src="https://cdn.jsdelivr.net/npm/mathjax@3.1.4/es5/tex-svg.js"></script><script src="/js/boot.js"></script></body></html>