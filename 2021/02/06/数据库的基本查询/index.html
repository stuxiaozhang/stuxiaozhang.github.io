<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.3.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"stuxiaozhang.github.io",root:"/",scheme:"Muse",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!1,show_result:!1,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!1},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!1,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="这篇文章整理了有关数据库的 Data Query Language 数据查询语言的相关操作，包括：SELECT，WHERE，ORDER BY，GROUP BY 和 HAVING 等等。"><meta property="og:type" content="article"><meta property="og:title" content="SQL的数据查询语言DQL"><meta property="og:url" content="http://stuxiaozhang.github.io/2021/02/06/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%9F%A5%E8%AF%A2/index.html"><meta property="og:site_name" content="小张同学的博客"><meta property="og:description" content="这篇文章整理了有关数据库的 Data Query Language 数据查询语言的相关操作，包括：SELECT，WHERE，ORDER BY，GROUP BY 和 HAVING 等等。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://gitee.com/stuxiaozhang/blogimage/raw/master/img/编程语言/Python/image-20210208073436724.png"><meta property="og:image" content="https://gitee.com/stuxiaozhang/blogimage/raw/master/img/编程语言/Python/image-20210207003518847.png"><meta property="og:image" content="https://gitee.com/stuxiaozhang/blogimage/raw/master/img/编程语言/Python/image-20210208222855455.png"><meta property="og:image" content="https://gitee.com/stuxiaozhang/blogimage/raw/master/img/编程语言/Python/image-20210208231842179.png"><meta property="og:image" content="https://gitee.com/stuxiaozhang/blogimage/raw/master/img/编程语言/Python/image-20210208231932372.png"><meta property="og:image" content="https://gitee.com/stuxiaozhang/blogimage/raw/master/img/编程语言/Python/image-20210209154049652.png"><meta property="og:image" content="https://gitee.com/stuxiaozhang/blogimage/raw/master/img/编程语言/Python/image-20210209165346348.png"><meta property="og:image" content="https://gitee.com/stuxiaozhang/blogimage/raw/master/img/编程语言/Python/image-20210209165408866.png"><meta property="article:published_time" content="2021-02-05T22:04:43.000Z"><meta property="article:modified_time" content="2021-02-09T14:05:10.502Z"><meta property="article:author" content="小张同学"><meta property="article:tag" content="SQL"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://gitee.com/stuxiaozhang/blogimage/raw/master/img/编程语言/Python/image-20210208073436724.png"><link rel="canonical" href="http://stuxiaozhang.github.io/2021/02/06/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%9F%A5%E8%AF%A2/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>SQL的数据查询语言DQL | 小张同学的博客</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">小张同学的博客</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">天道酬勤</p></div><div class="site-nav-right"><div class="toggle popup-trigger"></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li></ul></nav></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://stuxiaozhang.github.io/2021/02/06/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%9F%A5%E8%AF%A2/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="小张同学"><meta itemprop="description" content="不要停止奔跑 不要回顾来路"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="小张同学的博客"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">SQL的数据查询语言DQL</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-02-06 06:04:43" itemprop="dateCreated datePublished" datetime="2021-02-06T06:04:43+08:00">2021-02-06</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-02-09 22:05:10" itemprop="dateModified" datetime="2021-02-09T22:05:10+08:00">2021-02-09</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index"><span itemprop="name">编程语言</span></a> </span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/SQL/" itemprop="url" rel="index"><span itemprop="name">SQL</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><p>这篇文章整理了有关数据库的 Data Query Language 数据查询语言的相关操作，包括：SELECT，WHERE，ORDER BY，GROUP BY 和 HAVING 等等。</p><p><em><a id="more"></a></em></p><hr><center><img data-src="https://gitee.com/stuxiaozhang/blogimage/raw/master/img/编程语言/Python/image-20210208073436724.png" alt="pokeman-parameters" style="width:100%"></center><h1 id="DQL：数据查询语言"><a href="#DQL：数据查询语言" class="headerlink" title="DQL：数据查询语言"></a>DQL：数据查询语言</h1><h2 id="普通查询"><a href="#普通查询" class="headerlink" title="普通查询"></a>普通查询</h2><h3 id="记录查询-SELECT-FROM"><a href="#记录查询-SELECT-FROM" class="headerlink" title="记录查询 SELECT FROM"></a>记录查询 SELECT FROM</h3><p>最基本的查询语句是由 SELECT 和 FROM 关键字组成的。</p><blockquote><p>SELECT 语句屏蔽了物理层的操作，用户不必关心数据的真实存储，交由数据库高效的查找数据</p></blockquote><p>栗：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM t_emp;</span><br><span class="line">SELECT id, nme FROM t_student;</span><br></pre></td></tr></table></figure><h3 id="使用列别名-AS"><a href="#使用列别名-AS" class="headerlink" title="使用列别名 AS"></a>使用列别名 AS</h3><p>通常情况下， SELECT 子句中使用了表达式，那么这列的名字就默认为表达式，因此需要一种对列名重命名的机制 AS 。</p><blockquote><p>重命名只在显示输出的时候使用，数据表列名不会真的改变</p></blockquote><p>栗：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT </span><br><span class="line">  ename,</span><br><span class="line">  sal*12 AS &quot;annual_salary&quot;</span><br><span class="line">FROM </span><br><span class="line">  t_emp;</span><br></pre></td></tr></table></figure><center><img data-src="https://gitee.com/stuxiaozhang/blogimage/raw/master/img/编程语言/Python/image-20210207003518847.png" alt="pokeman-parameters" style="width:50%"></center><h3 id="数据分页-LIMIT"><a href="#数据分页-LIMIT" class="headerlink" title="数据分页 LIMIT"></a>数据分页 LIMIT</h3><p>LIMIT 关键字限定结果集数量。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT ... FROM ... LIMIT 起始位置, 偏移量;  # 注意是偏移量，而不是结束位置</span><br></pre></td></tr></table></figure><p>如果只有一个参数，他表示表示的是偏移量，起始值默认为0。</p><h3 id="排序-ORDER-BY"><a href="#排序-ORDER-BY" class="headerlink" title="排序 ORDER BY"></a>排序 ORDER BY</h3><p>如果想让结果集按照某种顺序排列，就必须使用 ORDER BY 子句。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT …… FROM …… ORDER BY 列名 [ ASC | DESC ];</span><br></pre></td></tr></table></figure><h4 id="排序关键字"><a href="#排序关键字" class="headerlink" title="排序关键字"></a>排序关键字</h4><p>ASC 代表升序（默认）， DESC 代表降序</p><ul><li><p>如果排序列是数字类型，数据库就按照数字大小排序；如果是日期类型就按照日期大小排序，如果是字符串就按照字符集序号排序。</p></li><li><p>可以使用 ORDER BY 规定首要排序条件和次要排序条件。放前面的先排序。</p></li></ul><blockquote><p>注：ORDER BY 子句书写的时候放在 LIMIT 子句的前面<br>执行顺序：FROM—&gt; SELECT —&gt; ORDER BY —&gt; LIMIT</p></blockquote><h3 id="去重-DISTINCT"><a href="#去重-DISTINCT" class="headerlink" title="去重 DISTINCT"></a>去重 DISTINCT</h3><p>如果需要去除重复的数据，可以使用 DISTINCT 关键字来实现</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT DISTINCT 字段 FROM …… ;</span><br></pre></td></tr></table></figure><blockquote><p>注意：</p><ol><li><p>使用 DISTINCT 的 SELECT 子句中只能查询一列数据，如果查询多列，去除重复记录就会失效。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT DISTINCT job, ename FROM t_emp;  # 不可以查询多列</span><br></pre></td></tr></table></figure></li><li><p>DISTINCT 关键字只能在 SELECT 子句中使用一次</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT DISTINCT job, DISTINCT ename FROM t_emp;  # 错</span><br><span class="line">SELECT job, DISTINCT ename FROM t_emp;  # 错</span><br></pre></td></tr></table></figure></li></ol></blockquote><h3 id="条件查询-WHERE"><a href="#条件查询-WHERE" class="headerlink" title="条件查询 WHERE"></a>条件查询 WHERE</h3><p>如需有条件地从表中选取数据，可将 WHERE 子句添加到 SELECT 语句中。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT …… FROM …… WHERE 条件 [ AND OR ] 条件 ……;</span><br></pre></td></tr></table></figure><ul><li><p>WHERE 语句中的条件运算会用 到以下 四种运算符：</p><p>| 运算符 | 栗子 |<br>| ————— | —————————————————————————————— |<br>| 数学运算符 | <code>+, -, *, /, %</code> |<br>| 比较运算符 | <code>&gt;, &gt;=, &lt;, &lt;=, =, !=, IN</code>； <code>IS NULL, IS NOY NULL, BETWEEN AND, LIKE, REGEXP</code> |<br>| 逻辑运算符 | <code>AND, OR, NOT, XOR(异或：相同为0，不同为1)</code> |<br>| 按位运算符 | <code>&amp;, |, ~(位取反), ^(位异或), &lt;&lt;(左移), &gt;&gt;(右移)</code> |</p></li></ul><blockquote><p>注：WHERE 子句中，条件执行的顺序是从左到右的。所以我们应该把<strong>索引条件</strong>，或者<strong>筛选掉记录最多的条件</strong>写在最左侧。</p><p>条件查询中， WHERE 子句应该是第几个执行？<br>执行顺序：FROM—&gt; WHERE —&gt; SELECT —&gt; ORDER BY —&gt; LIMIT</p><p>(WHERE 排在 SELECT 前是因为 WHERE先筛选符合条件的记录，SELECT 才能从中挑出结果集中显示的字段)</p></blockquote><p>栗子：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT empno, ename, sal, hiredate</span><br><span class="line">FROM t_emp</span><br><span class="line">WHERE deptno&#x3D;10 AND (sal+IFNULL(comm, 0))*12&gt;&#x3D;15000 # IFNULL(expr1,expr2) 判断expr1是否NULL，是就expr2</span><br><span class="line">AND DATEDIFF(NOW(),hiredate)&#x2F;365 &gt;&#x3D; 20;  # DATEDIFF(expr1,expr2)算两个日期的天数</span><br><span class="line">IFNULL(expr1,expr2)</span><br></pre></td></tr></table></figure><h2 id="高级查询"><a href="#高级查询" class="headerlink" title="高级查询"></a>高级查询</h2><h3 id="聚合函数"><a href="#聚合函数" class="headerlink" title="聚合函数"></a>聚合函数</h3><p>聚合函数在数据的查询分析中，应用十分广泛。聚合函数可以对数据求和、求最大值和最小值、求平均值等等。</p><ul><li><p><strong>SUM 函数</strong>用于求和，<u>只能用于数字类型</u>，字符类型的统计结果为0 ，日期类型统计结果是毫秒数相加。</p></li><li><p><strong>MAX 函数</strong>用于获得非空值的最大值。</p></li><li><p><strong>MIN 函数</strong>用于获得非空值的最小值。</p></li><li><p><strong>AVG 函数</strong>用于获得非空值的平均值，非数字数据统计结果为0。</p></li><li><p><strong>COUNT(*)</strong> 用于获得所有的(包含空值)的记录数</p><p><strong>COUNT(列名)</strong> 用于获得所有的(不包含空值)的记录数。</p></li></ul><p>栗子：查询10和20部门中，底薪超过2000元并且工龄超过15年的员工人数？</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT COUNT(ename)</span><br><span class="line">FROM t_emp</span><br><span class="line">WHERE deptno IN(10, 20) AND sal&gt;&#x3D;2000 </span><br><span class="line">AND DATEDIFF(NOW(), hiredate)&#x2F;365 &gt;&#x3D; 15;</span><br></pre></td></tr></table></figure><h3 id="分组查询-GROUP-BY"><a href="#分组查询-GROUP-BY" class="headerlink" title="分组查询 GROUP BY"></a>分组查询 GROUP BY</h3><p>默认情况下汇总函数是对全表范围内的数据做统计。</p><p>GROUP BY 子句的作用是通过一定的规则将一个数据集划分成若干个小的区域，然后针对每个小区域分别进行数据汇总处理。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT ... FROM ...</span><br><span class="line">GROUP BY ...;</span><br></pre></td></tr></table></figure><ul><li><p>数据库支持多列分组条件，执行的时候逐级分组。</p><p>栗：查询每个部门里，每种职位的人员数量和平均底薪</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT deptno, job, COUNT(*), ROUND(AVG(sal))</span><br><span class="line">FROM t_emp</span><br><span class="line">GROUP BY deptno, job</span><br><span class="line">ORDER BY deptno;</span><br></pre></td></tr></table></figure><p>注意：查询语句中如果含有 GROUP BY 子句，那么 SELECT 子句中的内容就必须要遵守规定：<strong>SELECT 子句中可以包括聚合函数，或者 GROUP BY 子句的分组列，其余内容均不可以出现在 SELECT 子句中</strong></p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT deptno, COUNT(*), AVG(sal)  # correct</span><br><span class="line">FROM t_emp GROUP BY deptno;</span><br><span class="line"></span><br><span class="line">SELECT deptno, COUNT(*), AVG(sal), sal  # wrong</span><br><span class="line">FROM t_emp GROUP BY deptno;</span><br></pre></td></tr></table></figure><h4 id="WITH-ROLLUP"><a href="#WITH-ROLLUP" class="headerlink" title="WITH ROLLUP"></a>WITH ROLLUP</h4><p>对分组结果集再次做汇总计算 WITH ROLLUP</p><p>栗：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT deptno, COUNT(*), AVG(sal), MAX(sal), MIN(sal)</span><br><span class="line">FROM t_emp</span><br><span class="line">GROUP BY deptno WITH ROLLUP;</span><br></pre></td></tr></table></figure><h4 id="GROUP-CONCAT-函数"><a href="#GROUP-CONCAT-函数" class="headerlink" title="GROUP_CONCAT 函数"></a>GROUP_CONCAT 函数</h4><p>GROUP_CONCAT 函数可以把分组查询中的某个字段拼接成一个字符串。</p><p>栗：查询每个部门内底薪超过2000元的人数和员工姓名</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT deptno, COUNT(*), GROUP_CONCAT(ename)</span><br><span class="line">FROM t_emp</span><br><span class="line">WHERE sal &gt;&#x3D; 2000</span><br><span class="line">GROUP BY deptno;</span><br></pre></td></tr></table></figure><blockquote><p>查询语句中，GROUP BY子句应该第几个执行？</p><p>执行顺序：FROM -&gt; WHERE -&gt; GROUP BY -&gt; SELECT -&gt; ORDER BY -&gt; LIMIT</p></blockquote><h3 id="HAVING-子句"><a href="#HAVING-子句" class="headerlink" title="HAVING 子句"></a>HAVING 子句</h3><p>栗：查询部门平均底薪超过2000元的部门编号</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT deptno FROM t_emp  # WRONG</span><br><span class="line">WHERE AVG(sal) &gt;&#x3D; 2000</span><br><span class="line">GROUP BY deptno;</span><br></pre></td></tr></table></figure><p><strong>因为 WHERE 子句先于 GROUP BY 执行，一旦 WHERE 子句中出现了聚合函数，数据库根本不知道按照什么范围计算汇总值。</strong></p><p>所以：</p><ul><li><p>WHERE 子句的作用是对查询结果进行分组前，将不符合 WHERE 条件的行去掉，即<strong>在分组之前过滤数据，WHERE 条件中不能包含聚组函数</strong>，使用 WHERE 条件过滤出特定的行。</p></li><li><p>HAVING 子句的作用是筛选满足条件的组，即<strong>在分组之后过滤数据</strong>，<strong>条件中经常包含聚组函数</strong>，使用 HAVING 条件过滤出特定的组，也可以使用多个分组标准进行分组。</p></li></ul><p>栗：查询每个部门中，1982年以后入职的员工超过2个人的部门编号</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT deptno FROM t_emp</span><br><span class="line">WHERE hiredate &gt;&#x3D; &quot;1982-01-01&quot;</span><br><span class="line">GROUP BY deptno HAVING COUNT(*) &gt;&#x3D; 2</span><br><span class="line">ORDER BY deptno ASC;</span><br></pre></td></tr></table></figure><blockquote><p>HAVING子句的特殊用法</p><p>按照数字1分组，MySQL 会依据 SELECT 子句中的列进行分组， HAVING 子句也可以正常使用</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT deptno, COUNT(*) FROM t_emp</span><br><span class="line">GROUP BY 1;  # 1 相当于 deptno </span><br></pre></td></tr></table></figure></blockquote><h2 id="表连接查询"><a href="#表连接查询" class="headerlink" title="表连接查询"></a>表连接查询</h2><p><strong>连接方式：</strong></p><ul><li>外连接：左连接，右连接，全外连接</li><li>内连接：等值连接，非等值连接，自然连接</li><li>交叉连接：笛卡尔积</li></ul><blockquote><p><strong>自然连接与等值连接的异同？</strong></p><ul><li><p>自然连接和等值连接的相同之处是<strong>二者都是根据属性值相等进行连接。</strong></p><blockquote><p>只返回两个表中连接字段相等的行</p></blockquote></li><li><p>二者的不同之处是：<strong>自然连接中相等的分量必须是相同的属性组，并且要在结果中去掉重复的属性。而等值连接不必。</strong></p></li></ul></blockquote><p><strong>连接方式说明：</strong></p><ul><li>内连接：只有两个元素表相匹配的才能在结果集中显示。只保留符合连接条件的记录</li><li>外连接：不管符不符合连接条件，记录都要保留在结果集中<ul><li>左外连接：左边表的数据全部显示，右边表的数据只显示共有的数据部分，不匹配的不会显示。</li><li>右外连接：右边表的数据全部显示，左边表的数据只显示共有的数据部分，不匹配的不会显示。</li><li>全外连接：连接的表中不匹配的数据全部会显示出来。</li></ul></li><li>交叉连接： 笛卡尔积，显示的结果是链接表数的乘积。</li></ul><h3 id="内连接"><a href="#内连接" class="headerlink" title="内连接"></a>内连接</h3><p>内连接：只有两个元素表相匹配的才能在结果集中显示。只保留符合连接条件的记录</p><center><img data-src="https://gitee.com/stuxiaozhang/blogimage/raw/master/img/编程语言/Python/image-20210208222855455.png" alt="pokeman-parameters" style="width:50%"></center><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT …… FROM 表1 </span><br><span class="line">[INNER] JOIN 表2 WHERE 连接条件 ;</span><br></pre></td></tr></table></figure><ul><li><strong>内连接的数据表不一定必须有同名字段，只要字段之间符合逻辑关系就可以</strong></li><li><strong>相同数据表也可以做表连接。</strong></li><li><strong>可以把查询的结果集当作一张表进行连接。</strong></li></ul><p>练习：</p><center><img data-src="https://gitee.com/stuxiaozhang/blogimage/raw/master/img/编程语言/Python/image-20210208231842179.png" alt="pokeman-parameters" style="width:55%"></center><center><img data-src="https://gitee.com/stuxiaozhang/blogimage/raw/master/img/编程语言/Python/image-20210208231932372.png" alt="pokeman-parameters" style="width:55%"></center><center><img data-src="https://gitee.com/stuxiaozhang/blogimage/raw/master/img/编程语言/Python/image-20210209154049652.png" alt="pokeman-parameters" style="width:100%"></center><p>练习：</p><ol><li><p>查询每个员工的工号、姓名、部门名称、底薪、职位、工资等级？</p><blockquote><p>sal 两个表没有同名的字段，但是<strong>内连接的数据表不一定必须有同名字段，只要字段之间符合逻辑关系就可以</strong></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT e.empno, e.ename, d.dname, e.job, s.grade </span><br><span class="line">FROM t_emp e JOIN t_dept d ON e.deptno&#x3D;d.deptno</span><br><span class="line">JOIN t_salgrade s ON e.sal BETWEEN s.losal AND s.hisal</span><br></pre></td></tr></table></figure></li><li><p>查询与SCOTT相同部门的员工都有谁？</p><p><strong>相同数据表也可以做表连接。</strong></p><p>写子查询语句：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT ename</span><br><span class="line">FROM t_emp </span><br><span class="line">WHERE deptno&#x3D;(SELECT deptno FROM t_dept WHERE ename&#x3D;&quot;SCOTT&quot;)</span><br><span class="line">AND ename!&#x3D;&quot;SCOTT&quot;</span><br></pre></td></tr></table></figure><p>改成内连接：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT e2.ename</span><br><span class="line">FROM t_emp e1 JOIN t_emp e2 ON e1.deptno&#x3D;e2.deptno</span><br><span class="line">WHERE e1.ename&#x3D;&quot;SCOTT&quot; AND e2.ename!&#x3D;&quot;SCOTT&quot;;</span><br></pre></td></tr></table></figure></li><li><p>查询月薪超过公司平均月薪的员工信息？</p><p><strong>可以把查询的结果集当作一张表进行连接。</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT e.empno, e.ename, e.sal</span><br><span class="line">FROM t_emp e </span><br><span class="line">JOIN (SELECT AVG(sal) avg FROM t_emp) t;</span><br><span class="line">ON e.sal&gt;&#x3D;t.avg;</span><br></pre></td></tr></table></figure></li><li><p>查询RESEARCH部门的人数、最高底薪、最低底薪、平均底薪、平均工龄？</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT COUNT(*), MAX(e.sal), MIN(e.sal), FLOOR(AVG(DATEDIFF(NOW(), e.hiredate)&#x2F;365))</span><br><span class="line">FROM t_emp e JOIN t_dept d</span><br><span class="line">ON e.deptno&#x3D;d.deptno</span><br><span class="line">WHERE d.dname&#x3D;&quot;RESEARCH&quot;;</span><br></pre></td></tr></table></figure></li><li><p>查询每种职业的最高工资、最低工资、平均工资、最高工资等级和 最低工资等级？</p><blockquote><p>工资：<code>e.sal + ISFULL(e.comm, 0)</code></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">SELECT e.job, </span><br><span class="line">MAX(e.sal+IFNULL(e.comm, 0)), </span><br><span class="line">MIN(e.sal+IFNULL(e.comm, 0)),</span><br><span class="line">AVG(e.sal+IFNULL(e.comm, 0)),</span><br><span class="line">MAX(s.grade), </span><br><span class="line">MIN(s.grade)</span><br><span class="line">FROM t_emp e JOIN t_salgrade s</span><br><span class="line">ON (e.sal+IFNULL(e.comm, 0)) BETWEEN s.losal AND s.hisal</span><br><span class="line">GROUP BY e.job;</span><br></pre></td></tr></table></figure></li><li><p>查询每个<u>底薪</u>超过<u>部门</u> <u>平均底薪</u>的员工信息</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">SELECT</span><br><span class="line">	e.empno,</span><br><span class="line">	e.ename,</span><br><span class="line">	e.sal </span><br><span class="line">FROM</span><br><span class="line">	t_emp e</span><br><span class="line">	JOIN ( SELECT deptno, AVG( SAL ) AS avg FROM t_emp GROUP BY deptno ) t ON e.deptno &#x3D; t.deptno </span><br><span class="line">	AND e.sal &gt;&#x3D; t.avg;</span><br></pre></td></tr></table></figure></li></ol><h3 id="外连接"><a href="#外连接" class="headerlink" title="外连接"></a>外连接</h3><p>外连接：不管符不符合连接条件，记录都要保留在结果集中</p><p>外连接包括：左(外)连接，右(外)连接，全外连接</p><ul><li>左外连接：左边表的数据全部显示，右边表的数据只显示共有的数据部分，不匹配的不会显示。</li><li>右外连接：右边表的数据全部显示，左边表的数据只显示共有的数据部分，不匹配的不会显示。</li><li>全外连接：连接的表中不匹配的数据全部会显示出来。</li></ul><p>注意：<strong>UNION关键字可以将多个查询语句的结果集进行合并</strong></p><p>栗子：列出员工的工号，姓名和部门名称</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT e.empno, e.ename, d.dname</span><br><span class="line">FROM t_emp e JOIN t_dept d</span><br><span class="line">ON e.deptno&#x3D;d.deptno;</span><br></pre></td></tr></table></figure><blockquote><p>如果使用内连接，有空值的员工就显示不出来。</p></blockquote><p>所以得改成左连接，如果有空值，就出NULL值来匹配。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT e.empno, e.ename, d.dname</span><br><span class="line">FROM t_emp e LEFT JOIN t_dept d</span><br><span class="line">ON e.deptno&#x3D;d.deptno;</span><br></pre></td></tr></table></figure><p>或者由右外连接反着写也行。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT e.empno, e.ename, d.dname</span><br><span class="line">FROM t_dept d RIGHT JOIN t_emp e</span><br><span class="line">ON e.deptno&#x3D;d.deptno;</span><br></pre></td></tr></table></figure><p>练习：</p><ol><li><p>查询每个部门的名称和部门的人数？</p><blockquote><p>deptno=40的部门，有这个部门，没有员工。但是这个部门是存在的，所以要以部门：0的形式存在。</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT d.deptno, d.dname, COUNT(e.deptno)</span><br><span class="line">FROM t_dept d</span><br><span class="line">LEFT JOIN t_emp e </span><br><span class="line">ON d.deptno&#x3D;e.deptno</span><br><span class="line">GROUP BY d.deptno;</span><br></pre></td></tr></table></figure><p>注意：不能再写 <code>COUNT(*)</code>，这样会把NULL值也算成一。所以要改成 <code>e.deptno</code> ，注意不是 <code>d.deptno</code> ，要忽略掉右表的NULL值。</p></li><li><p>查询每个部门的名称和部门的人数？如果没有部门的员工，部门名 称用NULL代替。(指陈浩，没有部门号，也就没有部门)</p><blockquote><p>首先，上一题的左外连接就是把陈浩这条排除掉了因为右表的陈浩deptno是NULL。那么又想到了右外连接把他算进来。但是这时，又把本来的deptno=40的部门给排除掉了因为没有人是这个部门。所以这时，需要把两个结果并起来。使用关键字<strong>UNION</strong></p></blockquote><p><strong>UNION关键字可以将多个查询语句的结果集进行合并</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">(</span><br><span class="line">	SELECT d.deptno, d.dname, COUNT(e.deptno)</span><br><span class="line">	FROM t_dept d LEFT JOIN t_emp e </span><br><span class="line">	ON d.deptno&#x3D;e.deptno</span><br><span class="line">	GROUP BY d.deptno</span><br><span class="line">) UNION</span><br><span class="line">(</span><br><span class="line">	SELECT d.deptno, d.dname, COUNT(*)</span><br><span class="line">	FROM t_dept d RIGHT JOIN t_emp e </span><br><span class="line">	ON d.deptno&#x3D;e.deptno</span><br><span class="line">	GROUP BY d.deptno</span><br><span class="line">);	</span><br></pre></td></tr></table></figure><blockquote><p>左连接中要改成 <code>e.deptno</code> ，而不是 <code>d.deptno</code> ，因为要忽略掉右表的NULL值， <code>COUNT(*)</code> 会把NULL值也算成一。</p><p>而右连接中要改成 <code>COUNT(*)</code> ，而不是 <code>e.deptno</code> 或 <code>d.deptno</code> 。因为以右表看左表的话，陈浩是空部门但是也是有一个人。写成 <code>d.deptno</code> 的话陈浩的deptno=NULL直接就算成0了。</p></blockquote></li><li><p>查询每名员工的编号、姓名、部门、月薪、工资等级、工龄、上司编号、上司姓名、上司部门？</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">select e.empno, e.ename, d.dname, </span><br><span class="line">e.sal+IFNULL(comm, 0) as &#39;月薪&#39;, s.grade,  </span><br><span class="line">FLOOR(DATEDIFF(NOW(),e.hiredate)&#x2F;365) as &#39;工龄&#39;,</span><br><span class="line">t.empno as mgr_no, t.ename as mgr_name, t.dname as mgr_dname</span><br><span class="line">from t_emp e </span><br><span class="line">left join t_dept d ON e.deptno&#x3D;d.deptno</span><br><span class="line">left join t_salgrade s ON e.sal between s.losal and hisal</span><br><span class="line">left join </span><br><span class="line">(select e1.empno, e1.ename, d1.dname </span><br><span class="line">from t_emp e1 join t_dept d1</span><br><span class="line">on e1.deptno&#x3D;d1.deptno</span><br><span class="line">) t</span><br><span class="line">on e.mgr&#x3D;t.empno ;</span><br></pre></td></tr></table></figure></li></ol><p>外连接注意事项： 内连接只保留符合条件的记录，所以查询条件写在 ON 子句和 WHERE 子句中的效果是相同的。但是外连接里，条件写在 WHERE 子句里，不合符条件的记录是会被过滤掉的，而如果写 ON ，即使不符合条件也会被左外连接保留下来。</p><center><img data-src="https://gitee.com/stuxiaozhang/blogimage/raw/master/img/编程语言/Python/image-20210209165346348.png" alt="pokeman-parameters" style="width:75%"></center><center><img data-src="https://gitee.com/stuxiaozhang/blogimage/raw/master/img/编程语言/Python/image-20210209165408866.png" alt="pokeman-parameters" style="width:75%"></center><h2 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h2><p>子查询是一种查询中嵌套查询的语句，可以写在三个地方：WHERE子句、FROM子句、SELECT子句。</p><p>查询语句执行的时候要多次的依赖于子查询的结果，这类子查询被称作相关子查询：WHERE 子查询和 SELECT 子查询都属于相关子查询 。因为相关子查询要反复多次执行，所以应该避免使用。所以只有FROM子句子查询是最可取的。</p><p>栗： 查询底薪超过公司平均底薪的员工的信息</p><ul><li><p>WHERE 子查询：最简单，最容易理解，但是却是效率很低的子查询</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT empno, ename, sal</span><br><span class="line">FROM t_emp</span><br><span class="line">WHERE sal&gt;&#x3D;(SELECT AVG(sal) FROM t_emp)</span><br></pre></td></tr></table></figure></li><li><p>FROM子查询：只会执行一次，所以查询效率很高</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT e.empno, e.ename, e.sal, t.avg</span><br><span class="line">FROM t_emp e</span><br><span class="line">JOIN(</span><br><span class="line">  SELECT deptno, AVG(sal) as avg</span><br><span class="line">  FROM t_emp GROUP BY deptno) t</span><br><span class="line">ON e.deptno&#x3D;t.deptno AND e.sal&gt;&#x3D;t.avg</span><br></pre></td></tr></table></figure></li><li><p>SELECT子查询：每输出一条记录的时候都要执行一次，查询效率很低</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT e.empno, e.ename</span><br><span class="line">  (SELECT dname FROM t_dept WHERE deptno&#x3D;e.deptno)</span><br><span class="line">FROM t_emp e;</span><br></pre></td></tr></table></figure></li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/SQL/" rel="tag"># SQL</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2021/02/05/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E7%9A%84%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C/" rel="prev" title="数据库表的相关操作"><i class="fa fa-chevron-left"></i> 数据库表的相关操作</a></div><div class="post-nav-item"><a href="/2021/02/06/SQL%E7%9A%84%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80DQL/" rel="next" title="SQL的数据查询语言DQL">SQL的数据查询语言DQL <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#DQL%EF%BC%9A%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80"><span class="nav-number">1.</span> <span class="nav-text">DQL：数据查询语言</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%99%AE%E9%80%9A%E6%9F%A5%E8%AF%A2"><span class="nav-number">1.1.</span> <span class="nav-text">普通查询</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%B0%E5%BD%95%E6%9F%A5%E8%AF%A2-SELECT-FROM"><span class="nav-number">1.1.1.</span> <span class="nav-text">记录查询 SELECT FROM</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%88%97%E5%88%AB%E5%90%8D-AS"><span class="nav-number">1.1.2.</span> <span class="nav-text">使用列别名 AS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%88%86%E9%A1%B5-LIMIT"><span class="nav-number">1.1.3.</span> <span class="nav-text">数据分页 LIMIT</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%92%E5%BA%8F-ORDER-BY"><span class="nav-number">1.1.4.</span> <span class="nav-text">排序 ORDER BY</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8E%92%E5%BA%8F%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-number">1.1.4.1.</span> <span class="nav-text">排序关键字</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8E%BB%E9%87%8D-DISTINCT"><span class="nav-number">1.1.5.</span> <span class="nav-text">去重 DISTINCT</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2-WHERE"><span class="nav-number">1.1.6.</span> <span class="nav-text">条件查询 WHERE</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%AB%98%E7%BA%A7%E6%9F%A5%E8%AF%A2"><span class="nav-number">1.2.</span> <span class="nav-text">高级查询</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0"><span class="nav-number">1.2.1.</span> <span class="nav-text">聚合函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2-GROUP-BY"><span class="nav-number">1.2.2.</span> <span class="nav-text">分组查询 GROUP BY</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#WITH-ROLLUP"><span class="nav-number">1.2.2.1.</span> <span class="nav-text">WITH ROLLUP</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#GROUP-CONCAT-%E5%87%BD%E6%95%B0"><span class="nav-number">1.2.2.2.</span> <span class="nav-text">GROUP_CONCAT 函数</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HAVING-%E5%AD%90%E5%8F%A5"><span class="nav-number">1.2.3.</span> <span class="nav-text">HAVING 子句</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A1%A8%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="nav-number">1.3.</span> <span class="nav-text">表连接查询</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E8%BF%9E%E6%8E%A5"><span class="nav-number">1.3.1.</span> <span class="nav-text">内连接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="nav-number">1.3.2.</span> <span class="nav-text">外连接</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="nav-number">1.4.</span> <span class="nav-text">子查询</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">小张同学</p><div class="site-description" itemprop="description">不要停止奔跑 不要回顾来路</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">52</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">9</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">25</span> <span class="site-state-item-name">标签</span></a></div></nav></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2021</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">小张同学</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-chart-area"></i> </span><span title="站点总字数">540k</span></div><div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动</div></div></footer></div><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script></body></html>