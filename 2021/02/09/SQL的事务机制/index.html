<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="&#34;auto&#34;"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="https://gitee.com/stuxiaozhang/blogimage/raw/master/img/mytheme/favicon.png"><link rel="icon" href="https://gitee.com/stuxiaozhang/blogimage/raw/master/img/mytheme/favicon.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="description" content="这篇文章整理了有关 SQL 的事务机制。
"><meta name="author" content="小张同学"><meta name="keywords" content=""><title>SQL的事务机制 - 小张同学的博客</title><link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="/lib/hint/hint.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/vs.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css"><link rel="stylesheet" href="/css/main.css"><script id="fluid-configs">var Fluid=window.Fluid||{},CONFIG={hostname:"stuxiaozhang.github.io",root:"/",version:"1.8.11",typing:{enable:!0,typeSpeed:85,cursorChar:"_",loop:!1},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"right",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},copy_btn:!0,image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:"81O1jSOqY3veRxOg71BDYfri-gzGzoHsz",app_key:"CgnvRL262D07ied40NiXm2VL",server_url:null}},search_path:"/local-search.xml"}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 5.3.0"></head><body><header style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/">&nbsp;<strong>xiaozhang's space</strong>&nbsp;</a> <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> 首页</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> 归档</a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> 分类</a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> 标签</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> 关于</a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div class="banner" id="banner" parallax="true" style="background:url(https://gitee.com/stuxiaozhang/blogimage/raw/master/img/mytheme/post.png) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,0)"><div class="page-header text-center fade-in-up"><span class="h2" id="subtitle" title="SQL的事务机制"></span><div class="mt-3"><span class="post-meta mr-2"><i class="iconfont icon-author" aria-hidden="true"></i> 小张同学 </span><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2021-02-09 19:32" pubdate>2021-02-09</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 2.4k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 32 分钟 </span><span id="leancloud-page-views-container" class="post-meta" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="leancloud-page-views"></span> 次</span></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div class="py-5" id="board"><article class="post-content mx-auto"><h1 style="display:none">SQL的事务机制</h1><div class="markdown-body"><p>这篇文章整理了有关 SQL 的事务机制。</p><p><em><a id="more"></a></em></p><hr><h1 id="SQL-的事务机制"><a href="#SQL-的事务机制" class="headerlink" title="SQL 的事务机制"></a>SQL 的事务机制</h1><p>如果数据的写入直接操作数据文件是非常危险的事情。</p><p>MySQL 总共有5种日志，其中只有redo日志和undo日志与事务有关。</p><h2 id="什么是事务？"><a href="#什么是事务？" class="headerlink" title="什么是事务？"></a>什么是事务？</h2><p>事务是<strong>一个不可分割的数据库操作序列，也是数据库并发控制的基本单位</strong>，其执行的结果必须使数据库从一种一致性状态变到另一种一致性状态。</p><blockquote><p>事务就是被绑定在一起作为一个逻辑工作单元的 SQL 语句分组，如果任何一个语句操作失败那么整个操作就被失败，以后操作就会回滚到操作前状态，或者是上有个节点。为了确保要么执行，要么不执行，就可以使用事务。要将有组语句作为事务考虑，就需要通过 ACID 测试，即原子性，一致性，隔离性和持久性。</p></blockquote><h2 id="事务机制（Transaction）"><a href="#事务机制（Transaction）" class="headerlink" title="事务机制（Transaction）"></a>事务机制（Transaction）</h2><p>RDBMS = SQL 语句 + 事务（ACID）</p><p>事务是一个或者多个 SQL语句组成的整体，要么全部执行成功，要么全部执行失败。</p><h3 id="管理事务"><a href="#管理事务" class="headerlink" title="管理事务"></a>管理事务</h3><p>默认情况下，MySQL 执行每条语句 SQL 语句都会自动开启和提交事务。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">START TRASACTION;</span><br><span class="line">SQL语句</span><br><span class="line">[COMMIT|ROLLBACK];</span><br></pre></td></tr></table></figure><blockquote><p>在没有 COMMIT 之前，SQL语句的执行都是记录在在 REDO 日志里，没有同步之前数据是没有发生变化的。</p><p>COMMIT 直接同步结果，不是中间同步的状态。</p><p>ROLLBACK 是直接全部回滚。</p></blockquote><h3 id="事务的-ACID-属性"><a href="#事务的-ACID-属性" class="headerlink" title="事务的  ACID 属性"></a>事务的 ACID 属性</h3><p>ACID：原子性(Atomicity)，一致性(Consistency)，隔离性(Isolation)，持久性(Durability)</p><p>涉及四种操作：</p><ul><li><strong>REDO：重做</strong>，正向扫描日志文件，对每个REDO事务重新执行日志文件登记的操作</li><li><strong>UNDO：撤销</strong>，反向扫描日志文件，对每个UNDO事务的更新操作执行逆操作</li><li><strong>COMMIT：提交</strong>，将事务中所有对数据库的更新写回到磁盘上的物理数据库中，事务正常结束</li><li><strong>ROLLBACK：回滚</strong>，事务运行的过程中发生了某种故障，事务不能继续执行，系统将事务中对数据库的所有已完成操作全部撤销，回滚到事务开始时的状态</li></ul><h4 id="原子性-Atomicity"><a href="#原子性-Atomicity" class="headerlink" title="原子性(Atomicity)"></a>原子性(Atomicity)</h4><p><strong>原子性(Atomicity)：整个事务中的所有操作，要么全部完成，要么全部不完成，不可能停滞在中间某个环节。</strong>事务在执行过程中发生错误，会被回滚（Rollback）到事务开始前的状态，就像这个事务从来没有执行过一样。</p><h4 id="一致性-Consistency"><a href="#一致性-Consistency" class="headerlink" title="一致性(Consistency)"></a>一致性(Consistency)</h4><p><strong>一致性(Consistency)：数据库在事务执行前后都保持一致性状态。</strong>在一致性状态下，<u>所有事务对一个数据的读取结果都是相同的</u>。</p><blockquote><p>所谓的一致性状态时指数据库中的数据满足完整性约束，它是一种以一致性规则为基础的逻辑属性。</p></blockquote><h4 id="隔离性-Isolation"><a href="#隔离性-Isolation" class="headerlink" title="隔离性(Isolation)"></a>隔离性(Isolation)</h4><p><strong>隔离性(Isolation)：一个事务的执行不能被其他事务干扰。</strong>即一个事务内部的操作及使用的数据对其他并发事务是隔离的，并发执行的各个事务之间不能互相干扰。</p><p>不同的隔离级别：</p><div class="table-container"><table><thead><tr><th style="text-align:left">隔离级别</th><th>功能</th><th style="text-align:center">脏读可能性</th><th style="text-align:center">不可重复读可能性</th><th style="text-align:center">幻读可能性</th></tr></thead><tbody><tr><td style="text-align:left">READ UNCOMMITTED</td><td>读取未提交数据</td><td style="text-align:center">是</td><td style="text-align:center">是</td><td style="text-align:center">是</td></tr><tr><td style="text-align:left">READ COMMITTED</td><td>读取已提交数据</td><td style="text-align:center">否</td><td style="text-align:center">是</td><td style="text-align:center">是</td></tr><tr><td style="text-align:left">REPEATABLE READ</td><td>重复读取</td><td style="text-align:center">否</td><td style="text-align:center">否</td><td style="text-align:center">是</td></tr><tr><td style="text-align:left">SERIALIZABLE</td><td>序列化</td><td style="text-align:center">否</td><td style="text-align:center">否</td><td style="text-align:center">否</td></tr></tbody></table></div><h5 id="Read-Uncommitted（读取未提交）"><a href="#Read-Uncommitted（读取未提交）" class="headerlink" title="Read Uncommitted（读取未提交）"></a>Read Uncommitted（读取未提交）</h5><p><strong>Read Uncommitted（读取未提交）：所有事务都可以看到其他未提交事务的执行结果。</strong>本隔离级别很少用于实际应用，因为它的性能也不比其他级别好多少。读取未提交的数据，也被称之为脏读（Dirty Read）。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SET SESSION TRANSACTION ISOLATION LEVEL READ UNCOMMITTED;</span><br></pre></td></tr></table></figure><blockquote><p>Read Uncommitted 会产生”脏读”问题：</p><p><strong>A：</strong>启动事务，此时数据为初始状态</p><p><strong>B：</strong>启动事务，更新数据，但不提交</p><p><strong>A：再次读取数据，发现数据已经被修改了，这就是所谓的“脏读”</strong></p><p><strong>B：</strong>回滚事务</p><p><strong>A：</strong>再次读数据，发现数据变回初始状态</p></blockquote><h5 id="Read-Committed（读取提交内容）"><a href="#Read-Committed（读取提交内容）" class="headerlink" title="Read Committed（读取提交内容）"></a>Read Committed（读取提交内容）</h5><p><strong>Read Committed（读取提交内容）：只有在事务提交后，其更新结果才会被其他事务看见。</strong><u>可以解决脏读问题</u>。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SET SESSION TRANSACTION ISOLATION LEVEL READ UNCOMMITTED;</span><br></pre></td></tr></table></figure><blockquote><p>Read Committed 会产生“不可重复读”问题：</p><p><strong>A：</strong>启动事务，此时数据为初始状态</p><p><strong>B：</strong>启动事务，更新数据，但不提交</p><p><strong>A：</strong>再次读数据，发现数据未被修改</p><p><strong>B：</strong>提交事务</p><p><strong>A：再次读取数据，发现数据已发生变化，说明B提交的修改被事务中的A读到了，这就是所谓的“不可重复读”</strong></p><p>一个事务读的信息都是已经commited了的，读不到没有commited的，这样在读取一次时，不会造成脏读，但是这个有个问题，就是如果我在读取一次呢，这个时候如果有另外一个事务，这个时候对读取的数据进行了一些操作，并且提交了，那么就很可能造成，第一次读和第二次读的数据不一致的情况，这就是所谓的，不可重复读，但是这个级别至少是可以保证它不会脏读。读取的交易不会阻止其它的交易，一个未COMMIT的交易会阻止其它所有的交易。</p></blockquote><h5 id="Repeatable-Read（可重复读）"><a href="#Repeatable-Read（可重复读）" class="headerlink" title="Repeatable Read（可重复读）"></a>Repeatable Read（可重复读）</h5><p><strong>Repeatable Read（可重复读）：在一个事务中，对于同一份数据的读取结果总是相同的，不会受其他事务影响</strong>，无论是否有其他事务对这份数据进行操作，以及这个事务是否提交。<u>可以解决脏读、不可重复读</u>。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;</span><br></pre></td></tr></table></figure><blockquote><p>Repeatable Read 会产生“幻读”问题：</p><p><strong>A：</strong>启动事务，此时数据为初始状态</p><p><strong>B：</strong>启动事务，更新数据，但不提交</p><p><strong>A：</strong>再次读取数据，发现数据未被修改</p><p><strong>B：</strong>提交事务</p><p><strong>A：</strong>再次读取数据，发现数据依然未发生变化，这说明这次可以重复读了</p><p><strong>B：</strong>插入一条新的数据，并提交</p><p><strong>A：再次读取数据，发现数据依然未发生变化，虽然可以重复读了，但是却发现读的不是最新数据，这就是所谓的“幻读”</strong></p><p><strong>A：</strong>提交本次事务，再次读取数据，发现读取正常了</p><p>可重复读，这种的隔离级别要求，在读取数据的时候，不允许在有对读取数据进行写入。比如事务A启动一个事务，事务B开启一个新事务(那么这两个事务交叉了)，在事务B中更新数据，并提交。这时候即使事务B已经提交了,但A不能看到数据变化。只有当事务A也提交了，它才能够看到数据变化。那这个时候，Repeatable Read 就可以避免重复读，读取的交易不会阻止其它读取的交易，但会阻止其它写入的交易，而写入的交易会阻止所有其它的交易。但是这个时候，我可以对这条数据进行删除，那么这个时候，就可能产生幻读，我实际上是读对了，但是由于后续的一些操作，导致我读出来的数据有问题，就是幻读。</p></blockquote><h5 id="Serialization（可串行化）"><a href="#Serialization（可串行化）" class="headerlink" title="Serialization（可串行化）"></a>Serialization（可串行化）</h5><p><strong>Serialization（可串行化）：事务串行化执行，通过强制事务排序，使之不可能相互冲突，从而解决幻读问题。</strong>隔离级别最高，牺牲了系统的并发性。可以解决并发事务的所有问题，脏读，重复读，幻读。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SET SESSION TRANSACTION ISOLATION LEVEL SERIALIZABLE;</span><br></pre></td></tr></table></figure><blockquote><p><strong>A：</strong>启动事务，此时数据为初始状态</p><p><strong>B：</strong>发现B此时进入了等待状态，原因是因为A的事务尚未提交，只能等待（此时，B可能会发生等待超时）</p><p><strong>A：</strong>提交事务</p><p><strong>B：发现插入成功</strong></p><p>串行化，也就是说，每一个事务的开始，都必须在前一个事务结束后执行，他们是串行的，不是并行的，那么这个时候，上面所有的问题都可以解决，不会造成脏读，重复读，幻读</p></blockquote><h4 id="持久性-Durability"><a href="#持久性-Durability" class="headerlink" title="持久性(Durability)"></a>持久性(Durability)</h4><ul><li><strong>持久性(Durability)：事务一旦提交，对数据库中数据的改变是永久性的，持久的保存在数据库之中。</strong>即使数据库发生故障也不应该对其有任何影响。</li></ul><h1 id="数据的导入与导出"><a href="#数据的导入与导出" class="headerlink" title="数据的导入与导出"></a>数据的导入与导出</h1><ul><li>数据导出，导出的纯粹是业务数据<ul><li>分为 SQL 文档、文本文档。</li></ul></li><li>数据备份，备份的是数据文件、日志文件、索引文件等等</li></ul><p><strong>导出 SQL 文件</strong></p><p><code>mysqldump</code> 用来把业务数据导出成 SQL 文件，其中也包括了表结构</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -uroot -p [--no-data] 逻辑库 &gt; 路径</span><br></pre></td></tr></table></figure><p>如果业务数据非常多，建议只导出表结构，然后用 <code>SELECT INTO OUTFILE</code> 把数据导出成文本文档</p><blockquote><p>用 Navicat 直接转储比较方便，”转储 SQL 文件“。</p></blockquote><p><strong>导入 SQL 文件</strong></p><p><code>source</code> 命令用于导入 SQL 文件，包括创建数据表，写入记录等</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sql&gt; USE demo;</span><br><span class="line">sql&gt; SOURCE backup.sql;</span><br></pre></td></tr></table></figure><blockquote><p>用 Navicat 导入比较方便，先导入表结构，再导入数据。</p><ol><li>”运行 SQL 文件“导入 SQL 文件；</li><li>”导入向导“导入数据，注意其中：”第一行导入数据“，仔细看数据文件，如果第一行就是数据记录，那么”第一行导入数据“就设置为1。</li></ol></blockquote></div><hr><div><div class="post-metas mb-3"><div class="post-meta mr-3"><i class="iconfont icon-category"></i> <a class="hover-with-bg" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">编程语言</a> <a class="hover-with-bg" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/SQL/">SQL</a></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a class="hover-with-bg" href="/tags/SQL/">SQL</a></div></div><p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a><br>转载请注明出处来源：<a href="https://stuxiaozhang.github.io">小张的宇宙空间站</a> ！</p><div class="post-prevnext"><article class="post-prev col-6"><a href="/2021/02/17/MySQL%20&amp;%20Python/"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">MySQL</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/2021/02/08/MYSQL%E5%9F%BA%E6%9C%AC%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%BF%E7%94%A8/"><span class="hidden-mobile">MYSQL基本函数的使用</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article class="comments" id="comments" lazyload><div id="valine"></div><script type="text/javascript">Fluid.utils.loadComments("#valine",function(){Fluid.utils.createScript("https://cdn.staticfile.org/valine/1.4.14/Valine.min.js",function(){var i=Object.assign({appId:"81O1jSOqY3veRxOg71BDYfri-gzGzoHsz",appKey:"CgnvRL262D07ied40NiXm2VL",placeholder:"快来评论我鸭~",path:"window.location.pathname",avatar:"retro",meta:["nick","mail","link"],pageSize:10,lang:"zh-CN",highlight:!0,recordIP:!0,serverURLs:null,emojiCDN:"https://cdn.bootcdn.net/ajax/libs/emojione/4.5.0/lib/js/emojione.min.js",emojiMaps:null,enableQQ:!0,requiredFields:["nick"],appid:"81O1jSOqY3veRxOg71BDYfri-gzGzoHsz",appkey:"CgnvRL262D07ied40NiXm2VL"},{el:"#valine",path:window.location.pathname});new Valine(i)})})</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p><div class="toc-body" id="toc-body"></div></div></div></div></div><a id="scroll-top-button" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer class="text-center mt-5 py-3"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div><div class="statistics"><span id="leancloud-site-pv-container" style="display:none">总访问量 <span id="leancloud-site-pv"></span> 次 </span><span id="leancloud-site-uv-container" style="display:none">总访客数 <span id="leancloud-site-uv"></span> 人</span></div></footer><script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",function(){NProgress.done()})</script><script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script><script src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/img-lazyload.js"></script><script src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js"></script><script src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js"></script><script src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js"></script><script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js"></script><script src="/js/local-search.js"></script><script defer src="/js/leancloud.js"></script><script src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js"></script><script>!function(t){(0,Fluid.plugins.typing)(t.getElementById("subtitle").title)}((window,document))</script><script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]]},options:{renderActions:{findScript:[10,a=>{document.querySelectorAll('script[type^="math/tex"]').forEach(e=>{var t=!!e.type.match(/; *mode=display/);const n=new a.options.MathItem(e.textContent,a.inputJax[0],t);t=document.createTextNode("");e.parentNode.replaceChild(t,e),n.start={node:t,delim:"",n:0},n.end={node:t,delim:"",n:0},a.math.push(n)})},"",!1],insertedScript:[200,()=>{document.querySelectorAll("mjx-container").forEach(e=>{let t=e.parentNode;"li"===t.nodeName.toLowerCase()&&t.parentNode.classList.add("has-jax")})},"",!1]}}}</script><script async src="https://cdn.staticfile.org/mathjax/3.0.5/es5/tex-svg.js"></script><script src="/js/boot.js"></script></body></html>